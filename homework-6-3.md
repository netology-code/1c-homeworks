# Задание к занятию "Соединения"

Все задачи обязательны к выполнению. 
Любые вопросы по решению задач задавайте в чате учебной группы.

## Цель задания

1. Научиться соединять таблицы в запросах

## Чеклист готовности к домашнему заданию

- [ ] Установить платформу 1С:Предприятие версии 8.3.22 или больше.

## Инструкция к заданию

1. Изучите структуру конфигурации в конфигураторе. Какие есть справочники, документы, регистры. Как они друг с другом связаны.
2. Запустите пользовательский режим и для задач 3.1 - 3.5 составьте текст запроса, удовлетворяющий условиям.
3. Проверьте текст запроса через встроенный механизм проверки.
4. Реализуйте алгоритм для работы обработки "2.6. Динамический текст запроса"

## Задача 1 "Решение задач 3.1 - 3.4 самоучителя запросов"

### Описание задачи
Составьте тексты запросов, удовлетворящих условиям задач в тренажере.

### Требования к результату
В поле статуса каждой задачи должно быть указано "Решение верно".

### Процесс выполнения
1. Создайте новую информационную базу и загрузить в нее [выгрузку тренажера](/simulator/queries.dt). Либо используйте базу, полученную по итогам предыдущего задания.
3. Запустите базу в пользовательском режиме.
4. Подготовьте текст запроса, удовлетворяющий заданию, в поле "Решение"
    - Условие задания выводится справа от поля "Решение"
    - Для подготовки текста запроса можно воспользоваться конструктором запросов
5. Проверьте решение с помощью команды "Проверить"
6. Перейдите к следующей задаче с помощью команды "Далее >>"
    - Можно перейти к произвольному заданию нажав на название текущего задания

## Задача 2 "Ежемесячный документы"

### Описание задачи
Необходимо реализовать алгоритм заполнения списка договоров с абоненсткой платой, для последующего ежемесячного выставления документов продажи.

### Требования к результату
В обработке "3.5. Ежемесячные документы" из раздела "Дополнительный задания" по команде Заполнить в командной панели табличной части должна заполняться табличная часть в соответствии с выбранным периодом и установленным отбором.

### Процесс выполнения
1. Используйте базу из предыдущего задания
2. Откройте в конфигураторе модуль объекта обработки Задание_3_5 и реализуйте в процедуре "ЗаполнитьСписокДоговоров" алгоритм заполнения табличной части обработки. Подсказки для реализации содержатся в комментарии внутри процедуры:
	1. Необходимо выбрать все договоры с типом Абонентская плата. Если заполнено поле ОтборОтветственный, то необходимо выбирать только те договоры, в которых этот сотрудник указан ответственным.
	2. Если в месяце, указанном в поле Период была создана продажа с предопределенной номенклатурой Абонентская плата, то в поле Продажа вывести ссылку на эту продажу. Если продаж несколько, то договоры не должны дублироваться.
	3. Если продажи нет или если в продаже сумма отличается от суммы в константе. Размер абонентской платы, то поставить флажок Создать продажу
	4. Вся подготовка данных должна выполняться в одном запросе. Не следует реализовывать постобработку, например, получать значение константы или проставлять флажок СоздатьПродажу
3. Запустите приложение в пользовательском режиме, перейдите в раздел "Дополнительные задания" и нажмите на ссылку "3.5. Ежемесячные документы". Протестируйте работу обработки на данных июня 2023г. Убедитесь, что если для договора в указанном периоде создана продажа с корректной суммой, то флажок СоздатьПродажу не устанавливается.

## Критерии оценки

Домашнее задание проверяется экспертом.

Успешным выполнением считается появление статуса "Решение верно" для всех задач из диапазона 3.1. - 3.4 и корректная работа алгоритма заполнения списка договоров в обработке "3.5. Ежемесячные документы"
